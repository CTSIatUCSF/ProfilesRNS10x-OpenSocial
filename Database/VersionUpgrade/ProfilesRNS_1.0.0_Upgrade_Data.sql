/*

Run this script on:

	Profiles RNS Version 1.0.0

to update its data to:

	Profiles RNS Version 1.0.1

*** You are recommended to back up your database before running this script!

*** Make sure you run the ProfilesRNS_1.0.0_Schema_Update.sql file before running this file.

*** Make sure the file paths of InstallData.xml and PRNS_1.0.owl are correct in lines 22 and 34.

*/


-- Update the InstallData file
TRUNCATE TABLE [Framework.].[InstallData]
EXEC [Framework.].[LoadXMLFile] @FilePath = 'c:\InstallData.xml', @TableDestination = '[Framework.].[InstallData]', @DestinationColumn = 'DATA'

-- Update the PRNS_1.0 ontology
DECLARE @EmailAddressNodeID BIGINT
DECLARE @EmailEncryptedNodeID BIGINT
DECLARE @EmailEncryptedPropertyID BIGINT
DECLARE @LabelID BIGINT
DECLARE @TripleID BIGINT
SELECT @EmailEncryptedNodeID = [RDF.].fnURI2NodeID('email encrypted')
SELECT @EmailEncryptedPropertyID = [RDF.].fnURI2NodeID('http://profiles.catalyst.harvard.edu/ontology/prns#emailEncrypted')
SELECT @LabelID = [RDF.].fnURI2NodeID('http://www.w3.org/2000/01/rdf-schema#label')
EXEC [RDF.].GetStoreNode @Value = 'email address', @NodeID = @EmailAddressNodeID OUTPUT
DELETE FROM [Ontology.Import].[OWL] WHERE Name = 'PRNS_1.0'
EXEC [Framework.].[LoadXMLFile] @FilePath = 'c:\PRNS_1.0.owl', @TableDestination = '[Ontology.Import].[owl]', @DestinationColumn = 'DATA', @NameValue = 'PRNS_1.0'
UPDATE [Ontology.Import].OWL SET Graph = 3 WHERE name = 'PRNS_1.0'
EXEC [Ontology.Import].[ConvertOWL2Triple] @OWL = 'PRNS_1.0'
EXEC [RDF.].GetStoreTriple @SubjectID = @EmailEncryptedPropertyID,
	@PredicateID = @LabelID,
	@ObjectID = @EmailAddressNodeID,
	@Weight = 1, @SortOrder = 1, @ViewSecurityGroup = -1,
	@TripleID = @TripleID OUTPUT
UPDATE [RDF.].[Triple] SET Graph = 3 WHERE TripleID = @TripleID
DELETE FROM [RDF.].[Triple]
	WHERE subject = @EmailEncryptedPropertyID
	AND predicate = @LabelID
	AND object = @EmailEncryptedNodeID
EXEC [Ontology.].[UpdateDerivedFields]

-- Update rows in  [Ontology.].[ClassProperty]
UPDATE [Ontology.].[ClassProperty] SET [EditSecurityGroup]=-20, [EditPermissionsSecurityGroup]=-20, [CustomEditModule]=CONVERT(xml,N'<Module ID="CustomEditEmail"/>',1), [_PropertyLabel]=N'email address' WHERE Class='http://xmlns.com/foaf/0.1/Person' and NetworkProperty is null and Property='http://profiles.catalyst.harvard.edu/ontology/prns#emailEncrypted'
UPDATE [Ontology.].[ClassProperty] SET [CustomEditModule]=CONVERT(xml,N'<Module ID="CustomEditMainImage"/>',1) WHERE Class='http://xmlns.com/foaf/0.1/Person' and NetworkProperty is null and Property='http://profiles.catalyst.harvard.edu/ontology/prns#mainImage' 
UPDATE [Ontology.].[ClassProperty] SET [CustomEditModule]=CONVERT(xml,N'<Module ID="CustomEditAwardOrHonor"/>',1) WHERE Class='http://xmlns.com/foaf/0.1/Person' and NetworkProperty is null and Property='http://vivoweb.org/ontology/core#awardOrHonor'
UPDATE [Ontology.].[ClassProperty] SET [CustomEditModule]=CONVERT(xml,N'<Module ID="CustomEditMailingAddress"/>',1)  WHERE Class='http://xmlns.com/foaf/0.1/Person' and NetworkProperty is null and Property='http://vivoweb.org/ontology/core#mailingAddress'
UPDATE [Ontology.].[ClassProperty] SET [CustomDisplayModule]=CONVERT(xml,N'<Module ID="CustomViewAuthorInAuthorship"/>',1), [CustomEditModule]=CONVERT(xml,N'<Module ID="CustomEditAuthorInAuthorship"/>',1) WHERE Class='http://xmlns.com/foaf/0.1/Person' and NetworkProperty is null and Property='http://vivoweb.org/ontology/core#authorInAuthorship'

-- Update row in [Ontology.].[DataMap]
UPDATE [Ontology.].[DataMap] SET [MapTable]='(select PersonID, [Utility.Application].[fnEncryptBase64RC4](p.EmailAddr,o.Value) Email from [Profile.Data].[Person] p, [Framework.].Parameter o where IsNull(p.EmailAddr,'''') <> '''' and o.ParameterID = ''RC4EncryptionKey'') t' WHERE [DataMapID]=94

-- Update rows in [Ontology.Presentation].[XML]
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="profile"><PageOptions Columns="2"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>2</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName/><PageBackLinkURL/><PageSubTitle/><PageDescription/><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabType="Fixed"><Module ID="PropertyList"/></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=1
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="network"><PageOptions Columns="2"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>2</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName>Back to Profile</PageBackLinkName><PageBackLinkURL>{{{//rdf:RDF/rdf:Description/rdf:subject/@rdf:resource}}}</PageBackLinkURL><PageSubTitle>{{{//rdf:RDF/rdf:Description/rdf:predicate/rdfs:label}}} ({{{//rdf:RDF/rdf:Description/prns:numberOfConnections}}})</PageSubTitle><PageDescription/><PanelTabType>Default</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default" Alias="list" Name="List"><Module ID="NetworkList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="BulletType">disc</Param><Param Name="Columns">2</Param><Param Name="NetworkListNode">rdf:RDF/rdf:Description[@rdf:about= ../rdf:Description[1]/prns:hasConnection/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param><Param Name="ItemURL">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param></ParamList></Module></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=2
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="connection"><PageOptions Columns="2"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>2</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName/><PageBackLinkURL/><PageSubTitle/><PageDescription/><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabType="Fixed"><Module ID="PropertyList"><ParamList><Param Name="RootNode">rdf:RDF/rdf:Description</Param></ParamList></Module></Panel><Panel Type="page"><Module ID="RDFLink"/></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=3
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="profile"><PageOptions Columns="3"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>3</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName/><PageBackLinkURL/><PageSubTitle/><PageDescription/><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default"><Module ID="PropertyList"/></Panel><Panel Type="page"><Module ID="RDFLink"/></Panel><Panel Type="passive"><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="InfoCaption">People</Param><Param Name="Description">People who have written about this concept.</Param><Param Name="MaxDisplay">5</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/vivo:researchAreaOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">/search/default.aspx?searchtype=people&amp;searchfor={{{rdf:RDF/rdf:Description/rdfs:label}}}&amp;classuri=http://xmlns.com/foaf/0.1/Person&amp;erpage=15&amp;offset=0 </Param><Param Name="MoreText">See all people</Param></ParamList></Module></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=4
EXEC(N'UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N''<Presentation PresentationClass="profile"><PageOptions Columns="3"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/foaf:firstName[1]}}} {{{rdf:RDF[1]/rdf:Description[1]/foaf:lastName[1]}}}</WindowName><PageColumns>3</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/foaf:firstName[1]}}} {{{rdf:RDF[1]/rdf:Description[1]/foaf:lastName[1]}}}</PageTitle><PageBackLinkName/><PageBackLinkURL/><PageSubTitle/><PageDescription/><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabType="Fixed"><Module ID="CustomViewPersonGeneralInfo"/><Module ID="ApplyXSLT"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="XSLTPath">~/profile/XSLT/OtherPositions.xslt</Param></ParamList></Module><Module ID="PropertyList"><ParamList/></Module></Panel><Panel Type="passive"><Module ID="PassiveHeader"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="InfoCaption">Concepts</Param><Param Name="Description">Derived automatically from this person''''s publications.</Param><Param Name="MaxDisplay">5</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/vivo:hasResearchArea/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) concept(s)</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="InfoCaption">Co-Authors</Param><Param Name="MaxDisplay">5</Param><Param Name="Description">People in Profiles who have published with this person.</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:coAuthorOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="InfoCaption">Similar People</Param><Param Name="Description">People who share similar concepts with this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:similarTo/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="CustomViewPersonSameDepartment"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="InfoCaption">Physical Neighbors</Param><Param Name="Description">People whose addresses are nearby this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:physicalNeighborOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param></ParamList></Module></Panel></PanelList><ExpandRDFList><ExpandRDF Class="http://xmlns.com/foaf/0.1/Person" Property="http://vivoweb.org/ontology/core#authorInAuthorship" Limit="1"/></ExpandRDFList></Presentation>'',1) WHERE [PresentationID]=5')
EXEC(N'UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N''<Presentation PresentationClass="network"><PageOptions Columns="3"/><WindowName>{{{//rdf:RDF/rdf:Description[@rdf:about= ../rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:firstName}}} {{{//rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:lastName}}}</WindowName><PageColumns>3</PageColumns><PageTitle>{{{//rdf:RDF/rdf:Description[@rdf:about= ../rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:firstName}}} {{{//rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:lastName}}}</PageTitle><PageBackLinkName>Back to Profile</PageBackLinkName><PageBackLinkURL>{{{//rdf:RDF/rdf:Description/rdf:subject/@rdf:resource}}}</PageBackLinkURL><PageSubTitle>Co-Authors ({{{//rdf:RDF/rdf:Description/prns:numberOfConnections}}})</PageSubTitle><PageDescription>Co-Authors are people in Profiles who have published together.</PageDescription><PanelTabType>Default</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default" Alias="list" Name="List"><Module ID="NetworkList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="BulletType">disc</Param><Param Name="Columns">2</Param><Param Name="NetworkListNode">rdf:RDF/rdf:Description[@rdf:about= ../rdf:Description[1]/prns:hasConnection/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param></ParamList></Module></Panel><Panel Type="main" TabSort="1" Alias="map" Name="Map" DisplayRule="rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/rdf:subject/@rdf:resource]/prns:latitude"><Module ID="NetworkMap"><ParamList><Param Name="MapType">CoAuthor</Param></ParamList></Module></Panel><Panel Type="main" TabSort="2" Alias="radial" Name="Radial"><Module ID="NetworkRadial"/></Panel><Panel Type="main" TabSort="3" Alias="details" Name="Details"><Module ID="ApplyXSLT"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="XSLTPath">~/profile/XSLT/CoAuthorDetail.xslt</Param></ParamList></Module></Panel><Panel Type="passive"><Module ID="PassiveHeader"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Concepts</Param><Param Name="Description">Derived automatically from this person''''s publications.</Param><Param Name="MaxDisplay">5</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/vivo:hasResearchArea/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) concept(s)</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Co-Authors</Param><Param Name="MaxDisplay">5</Param><Param Name="Description">People in Profiles who have published with this person.</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:coAuthorOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Similar People</Param><Param Name="Description">People who share similar concepts with this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:similarTo/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="CustomViewPersonSameDepartment"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Physical Neighbors</Param><Param Name="Description">People whose addresses are nearby this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:physicalNeighborOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param></ParamList></Module></Panel></PanelList></Presentation>'',1) WHERE [PresentationID]=6')
EXEC(N'UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N''<Presentation PresentationClass="network"><PageOptions Columns="3"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>3</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName>Back to Profile</PageBackLinkName><PageBackLinkURL>{{{//rdf:RDF/rdf:Description/rdf:subject/@rdf:resource}}}</PageBackLinkURL><PageSubTitle>Similar People ({{{//rdf:RDF/rdf:Description/prns:numberOfConnections}}})</PageSubTitle><PageDescription>Similar people share similar sets of concepts, but are not necessarily co-authors.</PageDescription><PanelTabType>Default</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default" Alias="list" Name="List"><Module ID="NetworkList"><ParamList><Param Name="InfoCaption">The people in this list are ordered by decreasing similarity.     (<font color="red">*</font> These people are also co-authors.)</Param><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="BulletType">disc</Param><Param Name="Columns">2</Param><Param Name="NetworkListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasConnection/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param><Param Name="SortBy">Weight</Param></ParamList></Module></Panel><Panel Type="main" TabSort="1" Alias="map" Name="Map" DisplayRule="rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/rdf:subject/@rdf:resource]/prns:latitude"><Module ID="NetworkMap"><ParamList><Param Name="MapType">SimilarTo</Param></ParamList></Module></Panel><Panel Type="passive"><Module ID="PassiveHeader"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Concepts</Param><Param Name="Description">Derived automatically from this person''''s publications.</Param><Param Name="MaxDisplay">5</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/vivo:hasResearchArea/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) concept(s)</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Co-Authors</Param><Param Name="MaxDisplay">5</Param><Param Name="Description">People in Profiles who have published with this person.</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:coAuthorOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Similar People</Param><Param Name="Description">People who share similar concepts with this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:similarTo/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="CustomViewPersonSameDepartment"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Physical Neighbors</Param><Param Name="Description">People whose addresses are nearby this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:physicalNeighborOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param></ParamList></Module></Panel></PanelList></Presentation>'',1) WHERE [PresentationID]=7')
EXEC(N'UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N''<Presentation PresentationClass="network"><PageOptions Columns="3"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>3</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName>Back to Profile</PageBackLinkName><PageBackLinkURL>{{{//rdf:RDF/rdf:Description/rdf:subject/@rdf:resource}}}</PageBackLinkURL><PageSubTitle>Concepts  ({{{//rdf:RDF/rdf:Description/prns:numberOfConnections}}})</PageSubTitle><PageDescription>Concepts are derived automatically from a person''''s publications.</PageDescription><PanelTabType>Default</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default" Alias="cloud" Name="Cloud"><Module ID="NetworkList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="InfoCaption">In this concept ''''cloud'''', the sizes of the concepts are based not only on the number of corresponding publications, but also how relevant the concepts are to the overall topics of the publications, how long ago the publications were written, whether the person was the first or senior author, and how many other people have written about the same topic. The largest concepts are those that are most unique to this person.</Param><Param Name="BulletType"/><Param Name="Columns">2</Param><Param Name="NetworkListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasConnection/@rdf:resource]</Param><Param Name="CloudWeightNode">prns:connectionWeight</Param><Param Name="ItemURLText">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/rdf:object/@rdf:resource}}}</Param></ParamList></Module></Panel><Panel Type="main" TabSort="1" Alias="categories" Name="Categories"><Module ID="NetworkCategories"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="InfoCaption">Concepts listed here are grouped according to their ''''semantic'''' categories. Within each category, up to ten concepts are shown, in decreasing order of relevance.</Param><Param Name="NetworkListNode">rdf:RDF/rdf:Description[@rdf:about= //rdf:RDF/rdf:Description/prns:hasConnection/@rdf:resource]</Param><Param Name="CategoryPath">//prns:meshSemanticGroupName</Param><Param Name="ItemText">{{{//rdf:Description/rdfs:label}}}</Param><Param Name="ItemURL">{{{//rdf:Description/@rdf:about}}}</Param></ParamList></Module></Panel><Panel Type="main" TabSort="3" Alias="details" Name="Details"><Module ID="ApplyXSLT"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="XSLTPath">~/profile/XSLT/ConceptDetail.xslt</Param></ParamList></Module></Panel><Panel Type="passive"><Module ID="PassiveHeader"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Concepts</Param><Param Name="Description">Derived automatically from this person''''s publications.</Param><Param Name="MaxDisplay">5</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/vivo:hasResearchArea/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://vivoweb.org/ontology/core#hasResearchArea"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) concept(s)</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Co-Authors</Param><Param Name="MaxDisplay">5</Param><Param Name="Description">People in Profiles who have published with this person.</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:coAuthorOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#coAuthorOf"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Similar People</Param><Param Name="Description">People who share similar concepts with this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:similarTo/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param><Param Name="MoreURL">{{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/@rdf:about}}}</Param><Param Name="MoreText">See all ({{{rdf:RDF/rdf:Description[rdf:predicate/@rdf:resource="http://profiles.catalyst.harvard.edu/ontology/prns#similarTo"][@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:hasNetwork/@rdf:resource]/prns:numberOfConnections}}}) people</Param></ParamList></Module><Module ID="CustomViewPersonSameDepartment"/><Module ID="PassiveList"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="InfoCaption">Physical Neighbors</Param><Param Name="Description">People whose addresses are nearby this person.</Param><Param Name="MaxDisplay">11</Param><Param Name="ListNode">rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/prns:physicalNeighborOf/@rdf:resource]</Param><Param Name="ItemURLText">{{{rdf:Description/rdfs:label}}}</Param><Param Name="ItemText"/><Param Name="ItemURL">{{{rdf:Description/@rdf:about}}}</Param></ParamList></Module></Panel></PanelList></Presentation>'',1) WHERE [PresentationID]=8')
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="connection"><PageOptions Columns="3"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>3</PageColumns><PageTitle>Connection</PageTitle><PageBackLinkName>Back to {{{//rdf:RDF/rdf:Description/rdfs:label}}}</PageBackLinkName><PageBackLinkURL>{{{//rdf:RDF/rdf:Description/prns:connectionInNetwork/@rdf:resource}}}/details</PageBackLinkURL><PageSubTitle>Co-Authors</PageSubTitle><PageDescription>This is a "connection" page, showing publications co-authored by {{{//rdf:RDF/rdf:Description/rdfs:label}}} and {{{//rdf:RDF/rdf:Description[@rdf:about=/rdf:RDF/rdf:Description[1]/rdf:object/@rdf:resource]/foaf:firstName}}} {{{//rdf:RDF/rdf:Description[@rdf:about=/rdf:RDF/rdf:Description[1]/rdf:object/@rdf:resource]/foaf:lastName}}}.</PageDescription><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default"><Module ID="CoAuthorConnection"/></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=9
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="connection"><PageOptions Columns="3"/><WindowName>{{{//rdf:RDF/rdf:Description[@rdf:about= ../rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:firstName}}} {{{//rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:lastName}}}</WindowName><PageColumns>3</PageColumns><PageTitle>Connection</PageTitle><PageBackLinkName>Back to {{{//rdf:RDF/rdf:Description[@rdf:about= ../rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:firstName}}} {{{//rdf:RDF/rdf:Description[@rdf:about= /rdf:RDF[1]/rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:lastName}}}</PageBackLinkName><PageBackLinkURL>{{{//rdf:RDF/rdf:Description/rdf:subject/@rdf:resource}}}</PageBackLinkURL><PageSubTitle>Similar Person</PageSubTitle><PageDescription>This is a "connection" page, showing concepts shared by  {{{//rdf:RDF/rdf:Description[@rdf:about=/rdf:RDF/rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:firstName}}} {{{//rdf:RDF/rdf:Description[@rdf:about=/rdf:RDF/rdf:Description[1]/rdf:subject/@rdf:resource]/foaf:lastName}}} and {{{//rdf:RDF/rdf:Description[@rdf:about=/rdf:RDF/rdf:Description[1]/rdf:object/@rdf:resource]/rdfs:label}}}.</PageDescription><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default"><Module ID="SimilarPeopleConnection"><ParamList><Param Name="DataURI">rdf:RDF/rdf:Description/@rdf:about</Param><Param Name="XSLTPath">~/profile/Modules/SimilarPeopleConnection/SimilarPeopleConnection.xslt</Param></ParamList></Module></Panel><Panel Type="passive"><Module ID="HTMLBlock"><ParamList><Param Name="HTML"><div><b> Connection Strength </b></div><br/><div> The connection strength for similar people is the <u>sum</u> of the scores for each shared concept. </div><br/><div> A shared concept score is the <u>product</u> of the concept scores for each person. </div><br/><div> Click any person''s concept score value to show details. </div></Param></ParamList></Module></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=10
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="connection"><PageOptions Columns="3"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>3</PageColumns><PageTitle>Connection</PageTitle><PageBackLinkName>Back to {{{//rdf:RDF/rdf:Description/rdfs:label}}}</PageBackLinkName><PageBackLinkURL>{{{//rdf:RDF/rdf:Description/prns:connectionInNetwork/@rdf:resource}}}/details</PageBackLinkURL><PageSubTitle/><PageDescription>This is a "connection" page, showing publications {{{//rdf:RDF/rdf:Description/rdfs:label}}} has written about {{{//rdf:RDF/rdf:Description[@rdf:about=/rdf:RDF/rdf:Description[1]/rdf:object/@rdf:resource]/rdfs:label}}}</PageDescription><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default"><Module ID="ConceptConnection"><Param Name="DataURI">rdf:RDF/rdf:Description/rdf:subject/@rdf:resource</Param><Param Name="Offset">0</Param><Param Name="Limit">0</Param></Module></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=11
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="profile"><PageOptions Columns="2"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>2</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName>View Profile</PageBackLinkName><PageBackLinkURL>{{{rdf:RDF[1]/rdf:Description[1]/@rdf:about[1]}}}</PageBackLinkURL><PageSubTitle/><PageDescription/><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default"><Module ID="EditPropertyContainer" Type="fixed"/></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=12
UPDATE [Ontology.Presentation].[XML] SET [PresentationXML]=CONVERT(xml,N'<Presentation PresentationClass="profile"><PageOptions Columns="2"/><WindowName>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</WindowName><PageColumns>2</PageColumns><PageTitle>{{{rdf:RDF[1]/rdf:Description[1]/rdfs:label[1]}}}</PageTitle><PageBackLinkName/><PageBackLinkURL/><PageSubTitle/><PageDescription/><PanelTabType>Fixed</PanelTabType><PanelList><Panel Type="active"><Module ID="MiniSearch"/><Module ID="MainMenu"/></Panel><Panel Type="main" TabSort="0" TabType="Default"><Module ID="CustomViewInformationResource"/></Panel></PanelList></Presentation>',1) WHERE [PresentationID]=13

-- Update rows in [Framework.].[RestPath]
UPDATE [Framework.].[RestPath] SET [Resolver]='[Direct.Framework].ResolveURL' WHERE [ApplicationName]='Direct'
UPDATE [Framework.].[RestPath] SET [Resolver]='[Edit.Framework].ResolveURL' WHERE [ApplicationName]='Edit'
UPDATE [Framework.].[RestPath] SET [Resolver]='[Search.Framework].ResolveURL' WHERE [ApplicationName]='Search'

-- Update rows in [Framework.].[Job]
UPDATE [Framework.].[Job] SET [Script]=N'UPDATE [Framework.].[Parameter] SET Value = (SELECT Value+''/profile/'' FROM [Framework.].[Parameter] WHERE ParameterID = ''basePath'') WHERE ParameterID = ''baseURI''', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=1
UPDATE [Framework.].[Job] SET [Script]=N'UPDATE [Ontology.Import].OWL SET Graph = 2 WHERE name = ''VIVO_1.4''', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=2
UPDATE [Framework.].[Job] SET [Script]=N'UPDATE [Ontology.Import].OWL SET Graph = 3 WHERE name =  ''PRNS_1.0''', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=3
UPDATE [Framework.].[Job] SET [Script]=N'EXEC [Ontology.Import].[ConvertOWL2Triple] @OWL = ''VIVO_1.4''', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=4
UPDATE [Framework.].[Job] SET [Script]=N'EXEC [Ontology.Import].[ConvertOWL2Triple] @OWL = ''PRNS_1.0''', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=5
UPDATE [Framework.].[Job] SET [Script]=N'EXEC [Search.Cache].[Public.UpdateCache]' WHERE [JobID]=18
UPDATE [Framework.].[Job] SET [Script]=N'EXEC [Search.Cache].[Private.UpdateCache]' WHERE [JobID]=19
UPDATE [Framework.].[Job] SET [Script]=N'EXEC [Search.Cache].[Public.UpdateCache]', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=23
UPDATE [Framework.].[Job] SET [Script]=N'EXEC [Search.Cache].[Private.UpdateCache]', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=24
UPDATE [Framework.].[Job] SET [Script]=N'EXEC [Search.Cache].[History.UpdateTopSearchPhrase]', [Status]=NULL, [LastStart]=NULL, [LastEnd]=NULL WHERE [JobID]=44
UPDATE [Framework.].[Job] SET [Script]=REPLACE([SCRIPT],'[RDF.Stage].[RunJobGroup]','[Framework.].[RunJobGroup]')
